# Autodor Monitor — Система мониторинга маршрутов и нарушений
---
## О проекте

**Autodor Monitor** — это десктопное приложение для автоматизации контроля соблюдения маршрутов транспортных средств коммерческих предприятий на основе данных системы **Т-Pass «Автодор»**.
Приложение решает проблему ручного анализа больших объемов данных о поездках, автоматически выявляя нарушения, связанные с проездом через запрещенные пункты взимания платы (ПВП).

### Основные возможности
- **Автоматический сбор данных**: Парсинг истории поездок из личного кабинета Т-Pass через веб-скрапинг
- **Импорт из файлов**: Загрузка данных из CSV, XLSX и PDF файлов (стандартные выгрузки Т-Pass)
- **Выявление нарушений**: Автоматическая проверка поездок на проезд через запрещенные ПВП
- **Локальное хранение**: Каждый пользователь работает со своей изолированной базой данных SQLite
- **Удобный веб-интерфейс**: Простой и интуитивный интерфейс для работы без специальной подготовки

### Для кого предназначено
- Логисты и диспетчеры транспортных компаний
- Финансовые контролеры, отвечающие за расходы на платные дороги
- Руководители автопарков, контролирующие соблюдение маршрутов
---
## Установка и запуск
1. Скачайте дистрибутив приложения для вашей операционной системы
2. Запустите исполняемый файл ("run_app.exe для Windows)
3. При первом запуске выберите папку для хранения данных
4. Система автоматически:
   - Запустит локальный сервер на "127.0.0.1:8000"
   - Откроет веб-интерфейс в вашем браузере
   - Создаст и настроит базу данных
**Важно**: Не закрывайте окно приложения во время работы системы!

## Основные функции
#### 1. Парсинг из личного кабинета Т-Pass
- Авторизация по логину и паролю от Т-Pass
- Выбор периода: день, неделя, месяц
- Фильтрация по конкретному транспондеру или "Все"
#### 2. Импорт из файлов
- CSV: Стандартная выгрузка Т-Pass
- XLSX: Excel-файлы с историей поездок
- PDF: Текстовые отчеты в формате PDF
- Автоматическая дедупликация: Система не добавляет дублирующие записи
---
### Проверка нарушений
Система автоматически проверяет каждую поездку на предмет проезда через запрещенные ПВП:
- Запрещенные ПВП: Настраиваемый список (по умолчанию: 4 ПВП, предоставленные заказчиком)
- Алгоритм проверки: Сравнение кода ПВП из поездки со списком запрещенных
- Результаты: Список нарушений с деталями (дата, транспондер, ПВП, сумма)

### Управление данными
- История поездок: Просмотр всех поездок с фильтрацией по дате и транспондеру
- Нарушения: Список выявленных нарушений с возможностью фильтрации
- Баланс: Отслеживание баланса счета Т-Pass
---
## Интерфейс

### Главная страница (Дашборд)
- Ключевые показатели: баланс, количество нарушений, поездок за период
- Быстрый доступ к основным функциям

### Страница "Поездки"
- Парсинг с файла
- Парсинг с сайта
- Полная история всех поездок
- Фильтры по дате, транспондеру
- Сортировка
- Пагинация для больших объемов данных

### Страница "Нарушения"
- Полная история всех нарушений
- Фильтры по дате, транспондеру
- Сортировка
- Пагинация для больших объемов данных
---
## Технические детали

### Стек технологий
- Бэкенд: Python 3.14, FastAPI, SQLAlchemy, Uvicorn
- Парсинг: Selenium
- Обработка файлов: Pandas, Pdfplumber
- База данных: SQLite
- Фронтенд: HTML5, CSS3, Vanilla JavaScript
- Упаковка: PyInstaller
